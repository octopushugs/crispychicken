<script src="//maps.google.com/maps/api/js?v=3.13&amp;sensor=false&amp;libraries=geometry,places" type="text/javascript"></script>
<script src='//google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js' type='text/javascript'></script>
<script src='//google-maps-utility-library-v3.googlecode.com/svn/tags/infobox/1.1.9/src/infobox_packed.js' type='text/javascript'></script>
<script src='//google-maps-utility-library-v3.googlecode.com/svn/trunk/richmarker/src/richmarker-compiled.js' type='text/javascript'></script>
<table>
    <tr>
      <td style="width: 31%;" align="left" valign="top">
        <%
            iStr = "A"; 
            i = 0 
        %>  
        <ul class="mapSidebar" id="markers_list">
            <% @events.each do |event| %>
                <li>
                  <ol>
                      <li><img src= "http://maps.google.com/mapfiles/kml/paddle/<%= iStr %>.png" class="markerSize" />&nbsp;<a href="javascript:void(0)" class="mapEventName" id="<%= i %>"><%= event.event_name %></a></li> 
                      <li>
                          <ul>
                              <li class="mapEventLocation"><%= event.address %></li>
                              <li></li>
                          </ul>
                      </li>
                  </ol>
                </li>    
                <% iStr = iStr.succ %>
                <% i = i + 1 %>
                <br />
            <% end %>
        </ul>   
      </td>
      <td style="width: 1%"></td>         
      <td class="mapSection">
          <div id="map" class="mapDIV"></div>
      </td>
    </tr>
</table>

<script type="text/javascript">
  buildMap(<%=raw @hash.to_json %>);    
</script>